========== Инструкция по развертыванию проекта под Ubuntu ==========

До начала работы над проектом следует: установить git, зарегистрироваться на
Github, внести свой публичный ключ как главный в Github и получить доступ к
проекту.

Далее:

1. Перейти в директорию, где предполагается хранить все, связанное с проектом.

2. Получить копию репозитория:

   git clone git@github.com:axgusev/Insurance.git

   В результате работы команды появится директория Insurance.

3. Установить утилиту virtualenv из дистрибутива

   sudo aptitude install python-virtualenv

4. Перейти в директорию Insurance:
   
   cd Insurance

5. Создать "песочницу" под проект:

   virtualenv --no-site-packages env

   Здесь ключ "--no-site-packages" означает, что системные библиотеки
   использоваться не будут, "песочница" будет хранить собственные экземпляры
   библиотек.

   Аргумент "env" - директория, куда устанавливается "песочница"

6. Установка Django в песочницу:

   . env/bin/activate # Активация песочницы

   pip install django # установка последней версии Джанго (1.3)

   pip install PIL # установка Python Image Library

   ВНИМАНИЕ! PIL должен быть собран с поддержкой библиотек freetype и libjpeg, это
   требуется для отрисовки капчи. Так ли это, можно понять по выводу pip в консоли
   при сборке PIL (см. вывод ниже "PIL 1.1.7 SETUP SUMMARY", строки
   "JPEG support (not) available" и "FREETYPE2 support (not) available"). Если
   поддержака этих библиотек отключена, то включить ее несложно - для этого надо:
   a) в ubuntu версий до 11.04 установить пакеты libjpeg62-dev и libfreetype6-dev;
     после этого выполнить "pip install --upgrade PIL".
   b) в ubuntu 11.04 после установки вышеназванных пакетов, надо сделать(для 64-битной сборки дистрибутива):
    sudo su - ln -s /usr/lib/x86_64-linux-gnu/libjpeg.so /usr/lib/
    sudo su - ln -s /usr/lib/x86_64-linux-gnu/libz.so /usr/lib/
    sudo su - ln -s /usr/lib/x86_64-linux-gnu/libfreetype.so /usr/lib/
    и потом тоже "pip install --upgrade PIL".

7. Исключение из поиска git файлов, не относящихся непосредственно к проекту

   edit .gitignore.tmpl # добавить лишние файлы от IDE или текстового редактора

   cp .gitignore.tmpl .gitignore # переименовать макет так, чтобы git его использовал

8. Локальная конфигурация проекта

   cd insurance # переход в подиректорию, где лежит сам проект Джанго

   edit local_settings.py.tmpl # редактирование локальных настроек БД

   cp local_settings.py.tmpl local_settings.py # переименовать макет так, чтобы Django его использовал

ВНИМАНИЕ! В коммиты не должны включаться локальные экземпляры файлов
local_settings.py и .gitignore! Они предназначены только для использовании на
машинах отдельных разработчиков.

В репозитории хранятся только макеты этих файлов.
